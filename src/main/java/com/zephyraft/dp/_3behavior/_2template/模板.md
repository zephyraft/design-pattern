# 模板模式

模板方法模式在一个方法中定义一个算法骨架，并将某些步骤推迟到子类中实现。模板方法模式可以让子类在不改变算法整体结构的情况下，重新定义算法中的某些步骤。

## 应用场景
- 复用
  - 模板模式把一个算法中不变的流程抽象到父类的模板方法 templateMethod() 中，将可变的部分 method1()、method2() 留给子类 ContreteClass1 和 ContreteClass2 来实现。所有的子类都可以复用父类中模板方法定义的流程代码。
  - InputStream.read()
  - AbstractList.add()
- 扩展
  - 模板模式常用在框架的开发中，让框架用户可以在不修改框架源码的情况下，定制化框架的功能
  - junit
  - servlet
## 实现
- 经典实现
  - 模板方法定义为 final，可以避免被子类重写。需要子类重写的方法定义为 abstract，可以强迫子类去实现。
  - 以上两点都不是必须的

## callback

- 回调是一种双向调用关系
  - A 类事先注册某个函数 F 到 B 类，A 类在调用 B 类的 P 函数的时候，B 类反过来调用 A 类注册给它的 F 函数。这里的 F 函数就是“回调函数”
  - 同步回调类似模版模式，异步回调类似观察者模式
- hook
  - hook与callback不是一个层面的东西。
  - hook是Callback的一种应用。Callback 更侧重语法机制的描述，Hook 更加侧重应用场景的描述。
- 回调是基于组合关系实现
- 模版模式是基于继承
