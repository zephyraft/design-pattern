# 访问者模式
允许一个或者多个操作应用到一组对象上，解耦操作和对象本身。

## 应用场景
访问者模式针对的是一组类型不同的对象（PdfFile、PPTFile、WordFile）。不过，尽管这组对象的类型是不同的，但是，它们继承相同的父类（ResourceFile）或者实现相同的接口。在不同的应用场景下，我们需要对这组对象进行一系列不相关的业务操作（抽取文本、压缩等），但为了避免不断添加功能导致类（PdfFile、PPTFile、WordFile）不断膨胀，职责越来越不单一，以及避免频繁地添加功能导致的频繁代码修改，我们使用访问者模式，将对象与操作解耦，将这些业务操作抽离出来，定义在独立细分的访问者类（Extractor、Compressor）中。

## 双分派 Double Dispatch
支持双分派的语言，不需要访问者模式

而Java，C++，C#等语言，只支持单分派
- Single Dispatch
  - 执行哪个对象的方法，根据对象的运行时类型来决定
  - 执行对象的哪个方法，根据方法参数的编译时类型来决定
  - 执行哪个对象的哪个方法，只跟“对象”的运行时类型有关。
- Double Dispatch
  - 执行哪个对象的方法，根据对象的运行时类型来决定
  - 执行对象的哪个方法，根据方法参数的运行时类型来决定
  - 执行哪个对象的哪个方法，跟“对象”和“方法参数”两者的运行时类型有关。
